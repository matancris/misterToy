{"version":3,"sources":["assets/img/default.jpg","services/httpService.js","services/toyService.js","store/actions/toyActions.js","cmps/ToyPreview.jsx","cmps/ToyList.jsx","cmps/ToyFilter.jsx","pages/ToyApp.jsx","services/reviewService.js","cmps/ReviewAdd.jsx","store/actions/reviewActions.js","cmps/ReviewPreview.jsx","cmps/ReviewList.jsx","pages/ToyDetails.jsx","services/cloudinaryService.js","pages/ToyEdit.jsx","pages/Home.jsx","cmps/GoogleMap.jsx","pages/About.jsx","services/userService.js","cmps/Header.jsx","store/actions/userActions.js","pages/Login.jsx","App.jsx","serviceWorker.js","store/reducers/reviewReducer.js","store/reducers/toyReducer.js","store/reducers/userReducer.js","store/store.js","index.js"],"names":["module","exports","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","window","location","assign","resolveData","toyService","query","filterBy","queryParams","URLSearchParams","name","set","inStock","type","sortBy","get","then","getById","toyId","remove","delete","save","toy","_id","put","post","loadToys","dispatch","toys","addToy","isShown","msg","ToyPreview","connect","state","loggedinUser","userReducer","props","className","src","imgUrl","require","alt","to","isAdmin","onClick","onDeleteToy","ToyList","map","key","ToyFilter","filter","handleChange","ev","persist","value","target","checked","setState","prevState","onSetFilter","onFilter","preventDefault","this","onSubmit","htmlFor","onChange","Select","id","MenuItem","Component","_ToyApp","onSetSort","onDelete","removeToy","mapDispatchToProps","ToyApp","toyReducer","add","queryStr","httpService","reviewId","review","addedReview","_ReviewAdd","rate","content","elInput","React","createRef","onInputChange","submitReview","addReview","cols","rows","placeholder","reviewService","ReviewAdd","ReviewPreview","repeat","ReviewList","reviews","length","_ToyDetails","loadToy","loadReviews","match","params","price","ToyDetails","reviewReducer","cloudinaryService","uploadImg","UPLOAD_URL","formData","FormData","append","files","fetch","body","json","TextFieldOutlined","TextField","variant","label","_ToyEdit","prevProps","img","updatedToy","secure_url","editToy","initialValues","validate","formValues","values","setSubmitting","history","push","isSubmitting","as","component","onUpdateImg","Button","disabled","goBack","ToyEdit","_Home","getToysDataByType","reduce","acc","getToysDataByYear","mapByYear","toyCreationYear","Date","createdAt","getFullYear","years","Object","keys","dataPrice","labels","datasets","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","toysByYear","dataYear","hoverBorderColor","Fragment","Home","_GoogleMap","center","store1Coord","lat","lng","store2Coord","store3Coord","centerByStor","storCoord","onMarkerClick","marker","event","position","onMapClicked","mapProps","latLng","containerStyle","width","height","border","marginBottom","boxShadow","initialCenter","google","zoom","color","GoogleMap","GoogleApiWrapper","apiKey","About","userService","login","logout","signup","getUsers","userId","update","user","userCred","_handleLogin","sessionStorage","clear","setItem","JSON","stringify","Header","withRouter","AppBar","Toolbar","username","onLogout","_Login","password","onLogin","userCreds","Login","App","path","Boolean","hostname","initialState","mainReducer","combineReducers","action","newToys","slice","toyIdx","findIndex","updateToys","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.8e96dec0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default.5a45102b.jpg\";","import Axios from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login');\r\n        }\r\n        throw err;\r\n    }\r\n}","import axios from 'axios'\r\nimport httpService from './httpService'\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/toy'\r\n    : '//localhost:3030/api/toy'\r\n\r\n\r\n// const axios = Axios.create({\r\n//     withCredentials: true\r\n// })\r\n\r\nconst resolveData = res => res.data\r\n\r\nexport const toyService = {\r\n    query,\r\n    getById,\r\n    remove,\r\n    save\r\n}\r\n\r\nfunction query(filterBy = {}) {\r\n    \r\n    var queryParams = new URLSearchParams()\r\n    if (filterBy.name) queryParams.set('q', filterBy.name)\r\n    if (filterBy.inStock) queryParams.set('inStock', filterBy.inStock)\r\n    if (filterBy.type) queryParams.set('type', filterBy.type)\r\n    if (filterBy.type) queryParams.set('sort', filterBy.sortBy)\r\n    \r\n    return axios.get(`${BASE_URL}?${queryParams}`)\r\n        .then(resolveData)\r\n}\r\n\r\n\r\n\r\nfunction getById(toyId) {\r\n    return axios.get(`${BASE_URL}/${toyId}`)\r\n        .then(resolveData)\r\n}\r\n\r\n\r\nfunction remove(toyId) {\r\n    return axios.delete(`${BASE_URL}/${toyId}`)\r\n}\r\n\r\nfunction save(toy) {\r\n    if (toy._id) {\r\n        return axios.put(`${BASE_URL}/${toy._id}`, toy)\r\n    } else {\r\n        return axios.post(BASE_URL, toy).then(resolveData)\r\n    }\r\n}\r\n","import { toyService } from \"../../services/toyService\"\r\n\r\n\r\nexport function loadToys(filterBy){\r\n    return dispatch => {\r\n        toyService.query(filterBy).then(toys => {\r\n            dispatch({type: 'SET_TOYS', toys })\r\n        })\r\n    }\r\n}\r\n\r\nexport function addToy(toy) {\r\n    return dispatch => {\r\n        toyService.save(toy)\r\n            .then((toy) => {\r\n                dispatch({ type: 'ADD_TOY', toy })\r\n                dispatch({ type: 'NOTIFY', isShown: true, msg: 'Added seccessfuly'})\r\n                \r\n            })\r\n    }\r\n}\r\n\r\nexport function editToy(toy) {\r\n    return dispatch => {\r\n        toyService.save(toy)\r\n            .then((toy) => {\r\n                dispatch({ type: 'EDIT_TOY', toy })\r\n                dispatch({ type: 'NOTIFY', isShown: true, msg: 'Added seccessfuly'})\r\n                \r\n            })\r\n    }\r\n}\r\n\r\nexport function removeToy(id) {\r\n    return dispatch => {\r\n        toyService.remove(id)\r\n            .then(() => {\r\n                dispatch({ type: 'REMOVE_TOY', id })\r\n                dispatch({ type: 'NOTIFY', isShown: true, msg: 'Removed seccessfuly'})\r\n            })\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\n\r\nexport function _ToyPreview(props) {\r\n    const { toy, loggedinUser } = props\r\n\r\n    return (\r\n        <div className=\"car-preview card flex space-around column align-center\">\r\n            <img src={toy.imgUrl ? toy.imgUrl : require(`../assets/img/default.jpg`)} alt=\"\" />\r\n            {toy.name}\r\n            <div className=\"edit-toy-btns flex\">\r\n                <Link to={`/toy/${toy._id}`}>Details</Link>\r\n                {loggedinUser && loggedinUser.isAdmin && <Link to={`/toy/edit/${toy._id}`}>Edit</Link>}\r\n                {loggedinUser && loggedinUser.isAdmin && <button onClick={() => props.onDeleteToy(toy._id)}>X</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedinUser: state.userReducer.loggedinUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nexport const ToyPreview = connect(mapStateToProps)(_ToyPreview)\r\n\r\n","import React from 'react'\r\nimport { ToyPreview } from './ToyPreview'\r\n\r\nexport  function ToyList({toys, onDeleteToy}) {\r\n    return (\r\n        <div className=\"toy-list flex flex-wrap justify-center\">\r\n            {\r\n                toys.map(toy => <ToyPreview toy={toy} key= { toy._id } onDeleteToy={onDeleteToy}/>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Select, MenuItem, InputLabel } from '@material-ui/core'\r\n\r\nexport class ToyFilter extends Component {\r\n    state = {\r\n        filter: {\r\n            name: '',\r\n            inStock: false,\r\n            type: '',\r\n            sortBy: ''\r\n        }\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        ev.persist()\r\n        // if (ev.target.name === 'sort') {\r\n        //     this.setState(({ sortBy: ev.target.value }), () => {\r\n        //         this.props.onSetFilter(this.state.sortBy)\r\n        //     })\r\n        // }\r\n        // else {\r\n            const value = (ev.target.type === 'checkbox') ? ev.target.checked : ev.target.value\r\n            this.setState(prevState => ({ filter: { ...prevState.filter, [ev.target.name]: value } }), () => {\r\n                this.props.onSetFilter(this.state.filter)\r\n\r\n            })\r\n        // }\r\n    }\r\n    onFilter = (ev) => {\r\n        ev.preventDefault()\r\n        this.props.onSetFilter(this.state.filter)\r\n    }\r\n\r\n    render() {\r\n        const { name } = this.state.filter\r\n        return (\r\n            <form onSubmit={this.onFilter} className=\"form-filter flex space-evenely flex-1\">\r\n                <label htmlFor=\"\">By name</label>\r\n                <input type=\"text\" name=\"name\" value={name} onChange={this.handleChange} />\r\n                <label htmlFor=\"\">only in stock</label>\r\n                <input type=\"checkbox\" name=\"inStock\" onChange={this.handleChange} />\r\n                <Select name=\"type\" id=\"select\" onChange={this.handleChange}>\r\n                    <MenuItem value=\"\" >All</MenuItem>\r\n                    <MenuItem value=\"Educational\">Educational</MenuItem>\r\n                    <MenuItem value=\"Funny\">Funny</MenuItem>\r\n                    <MenuItem value=\"Adult\">Adult</MenuItem>\r\n                </Select>\r\n                <select name=\"sort\" id=\"\" onChange={this.handleChange}>\r\n                    <option value=\"\">All</option>\r\n                    <option value=\"name\">name</option>\r\n                    <option value=\"price\">price</option>\r\n                </select>\r\n                <button>Filter</button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n","import { Link } from 'react-router-dom'\r\n\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadToys, removeToy, addToy } from '../store/actions/toyActions'\r\nimport { ToyList } from '../cmps/ToyList'\r\nimport { ToyFilter } from '../cmps/ToyFilter'\r\n\r\n// import { IconButton, Icon } from '@material-ui/core';\r\n\r\nexport class _ToyApp extends Component {\r\n\r\n    state = {\r\n        filterBy: '',\r\n        sortBy: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadToys()\r\n    }\r\n\r\n    onSetFilter = (filterBy) => {\r\n        this.setState({ filterBy }, () => this.props.loadToys(this.state.filterBy))\r\n    }\r\n\r\n    onSetSort = (sortBy) => {\r\n        this.setState({ sortBy }, () => this.props.loadToys(this.state.sortBy))\r\n    }\r\n\r\n    onDelete = (toyId) => {\r\n        this.props.removeToy(toyId)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { toys, loggedinUser } = this.props\r\n        if (!toys) return <div>Loading...</div>\r\n        return (\r\n            <div>\r\n                <div className=\"add-filter flex align-center space-around\">\r\n                {loggedinUser && loggedinUser.isAdmin && <Link to=\"/toy/edit\" className=\"add-btn\">Add Toy</Link>}\r\n                <ToyFilter onSetFilter={this.onSetFilter} />\r\n                </div>\r\n                {/* <IconButton aria-label=\"delete\">\r\n                 <Icon style={{ fontSize: 30} } backgrounColor=\"primary\" >+</Icon>\r\n                </IconButton> */}\r\n                <ToyList toys={toys} onDeleteToy={this.onDelete} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        toys: state.toyReducer.toys,\r\n        loggedinUser: state.userReducer.loggedinUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadToys,\r\n    removeToy,\r\n    addToy\r\n}\r\n\r\nexport const ToyApp = connect(mapStateToProps, mapDispatchToProps)(_ToyApp)","import httpService from './httpService';\r\n\r\nexport default {\r\n  add,\r\n  query,\r\n  remove\r\n};\r\n\r\n\r\n// return axios.get('api/toy/?id=1223&balance=13');\r\n// return axios.get('api/toy/?', {params: {id: 1223, balanse:13}});\r\n\r\n\r\nfunction query(filterBy) {\r\n  if (filterBy) var queryStr = `?toyId=${filterBy.toyId}`;\r\n  return httpService.get(`review${queryStr || ''}`);\r\n}\r\n\r\nfunction remove(reviewId) {\r\n  return httpService.delete(`review/${reviewId}`);\r\n}\r\nasync function add(review) {\r\n  const addedReview  = await httpService.post(`review`, review);\r\n  console.log(\"add -> addedReview\", addedReview)\r\n  return  addedReview\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addReview } from '../store/actions/reviewActions';\r\n\r\nclass _ReviewAdd extends React.Component {\r\n\r\n    state = {\r\n        review: {\r\n            toyId: '',\r\n            // fullName: '',\r\n            rate: 0,\r\n            // date: '',\r\n            content: ''\r\n        }\r\n    }\r\n\r\n\r\n    elInput = React.createRef()\r\n\r\n    componentDidMount() {\r\n        // const { id } = this.props.toyId\r\n        // toyService.getById(id).then(toy => this.setState({ toy }))\r\n        this.setState({review : {toyId: this.props.toyId}})\r\n        // this.elInput.current.focus()\r\n    }\r\n\r\n    onInputChange = (ev) => {\r\n        this.setState(\r\n            {\r\n                review: { ...this.state.review, [ev.target.name]: ev.target.value }\r\n            }\r\n        )\r\n    }\r\n\r\n    submitReview = (ev) => {\r\n        ev.preventDefault();\r\n        console.log(\"submitReview -> this.state.review\", this.state.review)\r\n        this.props.addReview(this.state.review)\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form className=\"review-form flex column align-center\" onSubmit={this.submitReview}>\r\n                    <h4>rate this toy!</h4>\r\n                    {/* <input ref={this.elInput} name=\"fullName\" type=\"text\" placeholder=\"Enter your full name\" onChange={this.onInputChange} /> */}\r\n                    <select name=\"rate\" id=\"\" className=\"rating-drop\" onChange={this.onInputChange}>\r\n                        <option value=\"1\">1</option>\r\n                        <option value=\"2\">2</option>\r\n                        <option value=\"3\">3</option>\r\n                        <option value=\"4\">4</option>\r\n                        <option value=\"5\">5</option>\r\n                    </select>\r\n                    {/* <input name=\"date\" type=\"date\" onChange={this.onInputChange} /> */}\r\n                    <textarea name=\"content\" id=\"\" cols=\"30\" rows=\"5\" placeholder=\"write your review here\" onChange={this.onInputChange}></textarea>\r\n                    <button className=\"review-btn\">submit</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    addReview\r\n}\r\n\r\nexport const ReviewAdd = connect(mapStateToProps, mapDispatchToProps)(_ReviewAdd)","import reviewService from '../../services/reviewService';\r\n\r\nexport function loadReviews(toyId) {\r\n  return async dispatch => {\r\n    try {\r\n      const reviews = await reviewService.query(toyId);\r\n      dispatch({ type: 'SET_REVIEWS', reviews });\r\n\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in loadReviews', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function addReview(review) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedReview = await reviewService.add(review);\r\n      console.log(\"addReview -> addedReview\", addedReview)\r\n      dispatch({ type: 'REVIEW_ADD', review: addedReview });\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in addReview', err);\r\n    }\r\n  };\r\n}\r\n","import React from 'react'\r\n\r\n\r\nexport function ReviewPreview(props) {\r\n    if (!props.review) return 'Be the first one to give a review!'\r\n    return (\r\n        <ul className=\"review-container\">\r\n            <li>\r\n                <h2>{'‚≠ê'.repeat(props.review.rate)}</h2>\r\n                <p>\"{props.review.content}\"</p>\r\n            </li>\r\n        </ul>\r\n    )\r\n}","import React from 'react'\r\nimport { ReviewPreview } from './ReviewPreview'\r\n\r\nexport  function ReviewList({reviews}) {\r\n    if (!reviews.length || !reviews) return <div>No reviews yet</div>;\r\n    return (\r\n        <div className=\"review-list flex flex-wrap justify-center\">\r\n            {\r\n                reviews.map(review => <ReviewPreview review={review} key= { review._id } />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { toyService } from '../services/toyService'\r\nimport { Link } from 'react-router-dom';\r\nimport { ReviewAdd } from '../cmps/ReviewAdd'\r\nimport { loadReviews } from '../store/actions/reviewActions';\r\nimport { connect } from 'react-redux';\r\nimport { ReviewList } from '../cmps/ReviewList';\r\n\r\n\r\nclass _ToyDetails extends Component {\r\n    state = {\r\n        toy: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadToy()\r\n        this.loadReviews()\r\n    }\r\n\r\n    loadReviews() {\r\n        const id = this.props.match.params.toyId\r\n        this.props.loadReviews({ toyId: id })\r\n    }\r\n\r\n    loadToy() {\r\n        const id = this.props.match.params.toyId\r\n        toyService.getById(id)\r\n            .then(toy => {\r\n                this.setState({ toy })\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { toy } = this.state\r\n        if (!toy) return <div>Loading...</div>\r\n        return (\r\n            <div>\r\n                <img src={toy.imgUrl ? toy.imgUrl : require(`../assets/img/default.jpg`)} alt=\"\" />\r\n                <h1>name: {toy.name}</h1>\r\n                <h1>price {toy.price}</h1>\r\n                <h1>type: {toy.type}</h1>\r\n                <h1>in stock? {toy.inStock ? 'yes' : 'no'}</h1>\r\n                <ReviewList reviews={this.props.reviews} />\r\n                <ReviewAdd toyId={toy._id} />\r\n                <Link to=\"/toy\" >Back to list</Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        reviews: state.reviewReducer.reviews\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadReviews\r\n}\r\n\r\nexport const ToyDetails = connect(mapStateToProps, mapDispatchToProps)(_ToyDetails)\r\n\r\n","\nexport const cloudinaryService = {\n    uploadImg\n  };\n\nasync function uploadImg(ev) {\n    const CLOUD_NAME = \"dawzeno7k\"\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n\n    const formData = new FormData();\n    console.dir(ev.target)\n    formData.append('file', ev.target.files[0])\n    formData.append('upload_preset', 'fvxb6by1');\n    try {\n        const res = await fetch(UPLOAD_URL, {\n            method: 'POST',\n            body: formData\n        })\n        const data = await res.json()\n        console.log(data);\n        return data\n\n    } catch (err) {\n        console.log(err);\n    }\n    // .then(res => res.json())\n    // .then(res => {\n    //     console.log(res)\n    //     // res.secure_url\n    //     return res\n    // })\n    // .catch (err => console.error(error))\n}\n","import { connect } from 'react-redux'\r\n\r\nimport React, { Component } from 'react'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { Button, TextField } from '@material-ui/core';\r\n\r\nimport { loadToys, addToy, editToy } from '../store/actions/toyActions'\r\nimport { toyService } from '../services/toyService';\r\nimport { cloudinaryService } from '../services/cloudinaryService';\r\n\r\n\r\n\r\nconst TextFieldOutlined = (props) => <TextField variant=\"outlined\" {...props} label={props.name} />\r\n\r\n\r\nexport class _ToyEdit extends Component {\r\n\r\n    state = {\r\n        toy: null\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        const { toyId } = this.props.match.params\r\n        if (toyId) {\r\n            toyService.getById(toyId)\r\n                .then(toy => { this.setState({ toy }) })\r\n        }\r\n        else {\r\n            this.setState({\r\n                toy: {\r\n                    name: '',\r\n                    price: '',\r\n                    type: ''\r\n                }\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.match.params.toyId !== this.props.match.params.toyId) return toyService.getById(this.props.match.params.toyId).then(toy => { this.setState({ toy }) })\r\n    }\r\n\r\n    async onUpdateImg(ev) {\r\n        const img = await cloudinaryService.uploadImg(ev)\r\n        let updatedToy = {...this.state.toy}\r\n        updatedToy.imgUrl = img.secure_url\r\n        this.props.editToy(updatedToy)\r\n    }\r\n\r\n    render() {\r\n        const toy = this.state.toy\r\n        if (!toy) return <h1>loading</h1>\r\n        return (<div>\r\n            <h1>Add new Toy</h1>\r\n            <Formik\r\n                initialValues={{ name: toy.name, price: toy.price, type: toy.type }}\r\n\r\n                validate={formValues => {\r\n                    // const errors = {};\r\n                    // if (!formValues.myEmail) {\r\n                    //     errors.myEmail = 'Required';\r\n                    // } else if (\r\n                    //     !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(formValues.myEmail)\r\n                    // ) {\r\n                    //     errors.myEmail = 'Invalid email address';\r\n                    // }\r\n                    // if (!formValues.password) errors.password = 'Password is required'\r\n                    // return errors;\r\n                }}\r\n\r\n                onSubmit={(values, { setSubmitting }) => {\r\n                    this.setState({ toy: { ...toy, ...values } }, () => {\r\n                        this.props.addToy(this.state.toy)\r\n                        setSubmitting(false)\r\n                    })\r\n                    this.props.history.push('/toy')\r\n                }}\r\n            >\r\n                {({ isSubmitting }) => (\r\n                    <Form className=\"flex column justify-center align-center\">\r\n                        <Field type=\"text\" name=\"name\" as={TextFieldOutlined} />\r\n                        <ErrorMessage name=\"name\" component=\"span\" />\r\n                        <Field type=\"number\" name=\"price\" as={TextFieldOutlined} />\r\n                        <ErrorMessage name=\"price\" component=\"span\" />\r\n                        <Field as=\"select\" name=\"type\">\r\n                            <option value=\"\"></option>\r\n                            <option value=\"Adult\">Adult</option>\r\n                            <option value=\"Educational\">Educational</option>\r\n                            <option value=\"Funny\">Funny</option>\r\n                        </Field>\r\n\r\n                        <label> Upload your image to cloudinary!\r\n                        <input onChange={(ev) => this.onUpdateImg(ev)} type=\"file\" />\r\n                        </label>\r\n\r\n                        <Button type=\"submit\" disabled={isSubmitting}>\r\n                            Submit\r\n                        </Button>\r\n                        <Button type=\"submit\" onClick={() => this.props.history.goBack()}>\r\n                            back\r\n                        </Button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div >)\r\n\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        toys: state.toyReducer.toys\r\n\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    loadToys,\r\n    addToy,\r\n    editToy\r\n}\r\n\r\nexport const ToyEdit = connect(mapStateToProps, mapDispatchToProps)(_ToyEdit)","import React, { Component } from 'react'\r\nimport { Pie, Line } from 'react-chartjs-2';\r\nimport { connect } from 'react-redux'\r\nimport { loadToys, addToy } from '../store/actions/toyActions'\r\n\r\n\r\nexport class _Home extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.loadToys()\r\n    }\r\n\r\n    getToysDataByType = () => {\r\n        console.log(\"getToysDataByType -> this.props\", this.props)\r\n        let chartByType = this.props.toys.reduce((acc, toy) => {\r\n            if (toy.type === 'Adult') acc[0] += +toy.price;\r\n            else if (toy.type === 'Educational') acc[1] += +toy.price;\r\n            else if (toy.type === 'Funny') acc[2] += +toy.price;\r\n            return acc\r\n        }, [0, 0, 0])\r\n        return chartByType;\r\n    }\r\n\r\n    getToysDataByYear = () => {\r\n        const mapByYear = this.props.toys.reduce((acc, toy) => {\r\n            let toyCreationDate = new Date(toy.createdAt)\r\n            let toyCreationYear = toyCreationDate.getFullYear()\r\n            acc[toyCreationYear] = acc[toyCreationYear] ? acc[toyCreationYear] + 1 : 1\r\n            return acc\r\n        }, {})\r\n\r\n        let years = Object.keys(mapByYear)\r\n        let values = Object.values(mapByYear)\r\n\r\n        return { years, values }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { toys } = this.props\r\n        console.log(\"render -> toys\", toys)\r\n        if (!toys.length) return <h1>loading</h1>\r\n        const dataPrice = {\r\n            labels: ['Adult', 'Educational', 'Funny'],\r\n            datasets: [\r\n                {\r\n                    label: 'Sales per year',\r\n                    backgroundColor: ['#b2f0d4',\r\n                        '#2d30b4',\r\n                        '#88ccd9'],\r\n                    borderColor: 'rgba(255,99,132,1)',\r\n                    borderWidth: 1,\r\n                    hoverBackgroundColor: '#6ceff0',\r\n                    data: this.getToysDataByType()\r\n                }\r\n            ]\r\n        };\r\n        const toysByYear = this.getToysDataByYear()\r\n        const dataYear = {\r\n            labels: toysByYear.years,\r\n            datasets: [\r\n                {\r\n                    label: 'Sales per year',\r\n                    backgroundColor: 'lightBlue',\r\n                    borderColor: 'rgba(255,99,132,1)',\r\n                    borderWidth: 1,\r\n                    hoverBackgroundColor: 'rgba(255,99,132,0.4)',\r\n                    hoverBorderColor: 'rgba(255,99,132,1)',\r\n                    data: toysByYear.values\r\n                }\r\n            ]\r\n        };\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"welcome-div flex column\">\r\n                    <div className=\"welcome-txt flex column justify-center\">\r\n                    <h1>Welcome to MisterToy</h1>\r\n                    <p>our toys are the best on the planet! Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatum atque dolores optio saepe repellendus, corporis, possimus quod nemo dicta ratione explicabo unde? Minima, nulla ea! Ut vitae repudiandae reiciendis natus.</p>\r\n\r\n                    </div>\r\n                    {/* <img src={require('../assets/img/woody-img.png')} alt=\"\"/> */}\r\n                </div>\r\n                <div className=\"chart-container flex flex-wrap\">\r\n                    <Pie data={dataPrice} />\r\n                    <Line data={dataYear} />\r\n                </div>\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        toys: state.toyReducer.toys\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadToys,\r\n    addToy\r\n}\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n\r\n\r\n","import React from 'react'\r\nimport { GoogleApiWrapper, Map, Marker } from 'google-maps-react';\r\nimport { Button } from '@material-ui/core';\r\n\r\n\r\n// const style = {\r\n//     width: '100%',\r\n//     height: '50%'\r\n// }\r\nclass _GoogleMap extends React.Component {\r\n\r\n    state = {\r\n        center: {},\r\n        store1Coord: {\r\n            lat: 32.0853,\r\n            lng: 34.7818\r\n        },\r\n        store2Coord: {\r\n            lat: 32.790509,\r\n            lng: 34.967076\r\n        },\r\n        store3Coord: {\r\n            lat: 33.004200,\r\n            lng: 35.087510\r\n        }\r\n    }\r\n\r\n    centerByStor = (storCoord) => {\r\n        this.setState({ center: this.state[storCoord] })\r\n    }\r\n\r\n\r\n    onMarkerClick = (props, marker, event) => {\r\n        console.log('props:', props, ' marker:', marker, 'event', event)\r\n        const center = { lat: props.position.lat, lng: props.position.lng }\r\n        this.setState({ center });\r\n    }\r\n\r\n    onMapClicked = (mapProps, map, ev) => {\r\n        console.log('mapProps:', mapProps);\r\n        console.log('map:', map);\r\n        console.log('clickEvent:', ev);\r\n        this.setState({ lat: ev.latLng.lat(), lng: ev.latLng.lng() })\r\n    }\r\n\r\n    render() {\r\n        const containerStyle = {\r\n        position: 'relative',\r\n        width: '100%',\r\n        height: '500px',\r\n        border: '2px solid black',\r\n        marginBottom: '10px',\r\n        boxShadow: '15px 11px 9px 2px rgba(112,110,112,0.45)'\r\n    }\r\n        return (\r\n\r\n            < div className = \"map-container\" >\r\n                <Map containerStyle = { containerStyle } initialCenter={this.state.store2Coord} center={this.state.center} onClick={this.onMapClicked} google={this.props.google} zoom={8}>\r\n\r\n                    <Marker position={this.state.store1Coord}\r\n                        name={'store 1 location'} onClick={() => this.onMarkerClick} />\r\n                    <Marker position={this.state.store2Coord}\r\n                        name={'store 2 location'} onClick={() => this.onMarkerClick} />\r\n                    <Marker position={this.state.store3Coord}\r\n                        name={'store 3 location'} onClick={() => this.onMarkerClick} />\r\n\r\n                    <div className=\"location-btns flex space-around\" >\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={() => this.centerByStor('store2Coord')}>\r\n                            Haifa Stor\r\n                </Button>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={() => this.centerByStor('store3Coord')}>\r\n                            Naharya Stor\r\n                </Button>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={() => this.centerByStor('store1Coord')}>\r\n                            TLV Stor\r\n                </Button>\r\n                    </div>\r\n\r\n                    {/* <InfoWindow position={this.state} visible={true}  >\r\n                    <div>\r\n                        <h1>INFO WINDOW</h1>\r\n                    </div>\r\n                </InfoWindow> */}\r\n                </Map>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport const GoogleMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyA7wFxeGayDFtxLfft53sDr7sMu9cj7Vio')\r\n})(_GoogleMap)","import React from 'react'\r\nimport { GoogleMap } from '../cmps/GoogleMap'\r\n\r\n\r\nexport function About() {\r\n    return (\r\n        <div>\r\n            <div className=\"map-container\">\r\n                <GoogleMap />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import httpService from './httpService'\r\n\r\n\r\n\r\nexport const userService= {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update\r\n}\r\n\r\nfunction getUsers() {\r\n    return httpService.get('user')\r\n}\r\n\r\nfunction getById(userId) {\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nfunction update(user) {\r\n    return httpService.put(`user/${user._id}`, user)\r\n}\r\n\r\nasync function login(userCred) {\r\n    const user = await httpService.post('auth/login', userCred)\r\n    return _handleLogin(user)\r\n}\r\n\r\nasync function signup(userCred) {\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _handleLogin(user)\r\n}\r\nasync function logout() {\r\n    await httpService.post('auth/logout');\r\n    sessionStorage.clear();\r\n}\r\n\r\nfunction _handleLogin(user) {\r\n    sessionStorage.setItem('user', JSON.stringify(user))\r\n    return user;\r\n}","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { AppBar, Toolbar } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../store/actions/userActions';\r\n\r\nfunction _Header(props) {\r\n\r\n\r\nasync function onLogout() {\r\n    await props.logout()\r\n    props.history.push('/')\r\n}\r\n\r\n    const { loggedinUser } = props\r\n    console.log(\"function_Header -> loggedinUser\", loggedinUser)\r\n    return (\r\n        // <header className=\"main-header full\">\r\n        <AppBar position=\"static\" className=\"app-material-bar full main-container\">\r\n            <Toolbar className=\"main-nav flex space-between\">\r\n                <Link to=\"/\" className=\"logo\">MisterToy</Link>\r\n                {loggedinUser && <h1>Hello {loggedinUser.username}!</h1>}\r\n                <ul className=\"main-nav flex clean-list\">\r\n                    <Link to=\"/toy\"><div className=\"logo\">toys</div></Link>\r\n                    <Link to=\"/about\"><div className=\"logo\">about</div></Link>\r\n                    {/* <li className=\"link flex align-center\">Link3</li> */}\r\n                    {!loggedinUser && <Link to='/login'>Login</Link>}\r\n                    {loggedinUser && <button onClick={() => onLogout()}>Logout</button>}\r\n                </ul>\r\n            </Toolbar>\r\n        </AppBar>\r\n\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedinUser: state.userReducer.loggedinUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n}\r\n\r\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(withRouter(_Header))\r\n\r\n","import { userService } from '../../services/userService'\r\n\r\n// export function loadUser() {\r\n//     return async dispatch => {\r\n//         const user = await userService.login()\r\n//         dispatch({ type: 'SET_USER', user })\r\n//     }\r\n// }\r\n\r\nexport function login(userCreds) {\r\n    return async dispatch => {\r\n        const user = await userService.login(userCreds)\r\n        dispatch({ type: 'SET_USER', user });\r\n    }\r\n}\r\nexport function logout() {\r\n    return async dispatch => {\r\n        await userService.logout()\r\n        dispatch({ type: 'SET_USER', user: null });\r\n    }\r\n}\r\n\r\n\r\nexport function editUser(user) {\r\n    return dispatch => {\r\n        userService.edit(user)\r\n            .then(user => {\r\n                dispatch({ type: 'UPDATE_USER', user })\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function addToCart(todo) {\r\n    return dispatch => dispatch({ type: 'ADD_TO_CART', todo })\r\n}\r\nexport function clearCart() {\r\n    return dispatch => dispatch({ type: 'CLEAR_CART' })\r\n}\r\n// export function checkout() {\r\n//     return (dispatch, getState) => {\r\n//         console.log('state', getState());\r\n//         const { cartTodos } = getState().userReducer\r\n//         if (userBalance < totalPrice) return Promise.reject('You dont have enough cash!')\r\n//         // Here call the service and make change in backend\r\n//         dispatch({ type: 'SPEND_BALANCE', spendAmount: totalPrice })\r\n//         dispatch({ type: 'CLEAR_CART' })\r\n//         return Promise.resolve('Checked out successfully')\r\n//     }\r\n// }","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../store/actions/userActions';\r\n\r\nexport class _Login extends React.Component {\r\n\r\n    state = {\r\n        user: {\r\n            username: '',\r\n            password:''\r\n        }\r\n    }\r\n\r\n    onChange = (ev) => {\r\n        console.log(ev);\r\n        this.setState({ user: {...this.state.user, [ev.target.name]: ev.target.value }})\r\n    }\r\n\r\n    onLogin = (ev) => {\r\n        ev.preventDefault()\r\n        console.log('hi');\r\n        this.props.login(this.state.user)\r\n            .then(() => this.props.history.push('/toy'))\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flex column\">\r\n                <form className=\"flex space-between align-center column\" onSubmit={this.onLogin}>\r\n                    <input type=\"text\" name=\"username\" onChange={this.onChange} placeholder=\"Your user name\" />\r\n                    <input type=\"password\" name=\"password\" onChange={this.onChange} placeholder=\"password\"/>\r\n                    <button className=\"submit\">submit</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedinUser: state.userReducer.loggedinUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    login\r\n}\r\n\r\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)\r\n\r\n\r\n\r\n\r\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom'\n\nimport { ToyApp } from './pages/ToyApp';\nimport { ToyDetails } from './pages/ToyDetails';\nimport { ToyEdit } from './pages/ToyEdit'\nimport { Home } from './pages/Home'\nimport { About } from './pages/About'\nimport { Header } from './cmps/Header';\nimport { Login } from './pages/Login';\n\n\nfunction App() {\n  return (\n    <div className=\"App main-container\">\n      <Header />\n      <main className=\"full main-container\">\n\n        <Switch>\n          <Route component={ToyEdit} path='/toy/edit/:toyId?' />\n          <Route component={ToyDetails} path='/toy/:toyId' />\n          <Route component={ToyApp} path='/toy' />\n          <Route component={Login} path='/login' />\n          <Route component={About} path='/about' />\n          <Route component={Home} path='/' />\n        </Switch>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\r\n  reviews: [],\r\n};\r\n\r\nexport default function(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews };\r\n    case 'REVIEW_ADD':\r\n      console.log('Reducer', action.review);\r\n      return { ...state, reviews: [...state.reviews, action.review] };\r\n    case 'REVIEW_UPDATE':\r\n      return {\r\n        ...state,\r\n        reviews: state.reviews.map(review =>\r\n          review._id === action.review._id ? action.review : review\r\n        )};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initialState = {\r\n    toys: []\r\n}\r\n\r\nexport function toyReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_TOYS':\r\n            return {\r\n                ...state,\r\n                toys: action.toys\r\n            }\r\n        case 'REMOVE_TOY':\r\n            const toys = state.toys.filter(toy => toy._id !== action.id)\r\n            return { ...state, toys }\r\n        case 'ADD_TOY':\r\n            let newToys = state.toys.slice()\r\n            newToys.push(action.toy)\r\n            return { ...state, toys: newToys }\r\n        case 'EDIT_TOY':\r\n            {\r\n                const toyIdx = state.toys.findIndex((toy) => toy._id === action.toy._id)\r\n                const updateToys = state.toys.slice()\r\n                updateToys[toyIdx] = action.toy\r\n                return { ...state, toys: updateToys }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","\r\n\r\nconst initialState = {\r\n    loggedinUser: null\r\n}\r\n\r\nexport function userReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return { ...state, loggedinUser: action.user }\r\n        case 'UPDATE_USER':\r\n            return { ...state, loggedinUser: action.loggedinUser }\r\n        //     case 'SPEND_BALANCE':\r\n        //         return {\r\n        //             ...state,\r\n        //             loggedinUser: {\r\n        //                 ...state.loggedinUser,\r\n        //                 balance: state.loggedinUser.balance - action.spendAmount\r\n        //             }\r\n        //         }\r\n        //     case 'ADD_TO_CART':\r\n        //         return {\r\n        //             ...state,\r\n        //             cartItems: [...state.cartItems, action.item]\r\n        //         }\r\n        //     case 'CLEAR_CART':\r\n        //         return { ...state, cartItems: [] }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import {createStore, applyMiddleware, compose, combineReducers} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport reviewReducer from './reducers/reviewReducer';\r\nimport { toyReducer } from './reducers/toyReducer';\r\nimport { userReducer } from './reducers/userReducer';\r\n\r\n\r\nconst mainReducer = combineReducers({\r\n    toyReducer,\r\n    userReducer,\r\n    reviewReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(mainReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux'\nimport { HashRouter as Router } from 'react-router-dom'\n\nimport { store } from './store/store';\nimport './assets/scss/global.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}